---
date: 2025-11-21
title: 安装好 Archlinux 之后修改根分区大小
---

前几天，为了缩小根分区大小，我的 Archlinux 启动不了了，而且努力了很久，发现应该是无法恢复了。

于是我装系统变得更熟练的了，这次也快速把 Windows 装好了。

这次提前搜了一下怎么缩小根分区，然后成功了，这次能进来了。

我的根分区是 ext4 的。

先用 `e2fsck -f /dev/xxx` 检查文件系统完整性。

```bash
resize2fs /dev/xxx 300G
```

用 `resize2fs` 修改分区容量。

然后再用 `cfdisk` 或者 `parted` 修改实际大小，要和刚才输入的容量一致。

如果缩小分区之后，你需要挂载的分区变了，需要重新生成 fstab 之类的，可能需要重新配置 grub，因为我 arch 根分区在最前面，所以不用管。

