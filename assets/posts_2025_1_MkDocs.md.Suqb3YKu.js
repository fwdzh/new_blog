import{_ as i,c as a,o as n,af as p}from"./chunks/framework.Bx2dzr78.js";const o=JSON.parse('{"title":"MkDocs Material 博客部署","description":"","frontmatter":{"title":"MkDocs Material 博客部署","date":"2025-01-15T00:00:00.000Z"},"headers":[],"relativePath":"posts/2025/1/MkDocs.md","filePath":"posts/2025/1/MkDocs.md","lastUpdated":1762705110000}'),e={name:"posts/2025/1/MkDocs.md"};function l(t,s,h,k,r,d){return n(),a("div",null,[...s[0]||(s[0]=[p(`<h1 id="mkdocs-material-博客部署" tabindex="-1">MkDocs Material 博客部署 <a class="header-anchor" href="#mkdocs-material-博客部署" aria-label="Permalink to “MkDocs Material 博客部署”">​</a></h1><div class="warning custom-block"><p class="custom-block-title custom-block-title-default">WARNING</p><p>这篇文章，是当时那个晚上，自己搞 MkDocs 博客时，顺手摘抄的大概？可能有些配置有问题的，不过想着既然写了，并且看起来没那么尴尬，就移过来了。</p><p>总的来说，跟着文档来其实都不难的，不过我最开始搞，感觉看文档能力很弱，现在就稍微好点。可能因为折腾的次数多了？</p><p>然后 Python 是不是尽量用虚拟环境？我目前主要用 linux，在 linux 上直接 <code>pip install</code> 一般不行，更推荐的是用虚拟环境。感觉跟 npm 是不是挺像的。</p><p>可以直接 clone 别人的 git 仓库，把文件删掉，这样本地不需要环境，只在 git 部署也行。hexo 那些也是同理。</p></div><p>看到很多大佬的博客都是这个 <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noreferrer">Material for MkDocs</a> , 我也想整一个，所以来学习一下。</p><p>其实很多内容可能会是我复制其他大佬的博客。</p><p>我之前弄的博客很乱，也没更新多久，就没有再弄了。现在想重新整一个。</p><p>现在是在windows上配置。</p><p>首先需要安装pip，在这之前要先安装python，<a href="https://www.python.org/downloads/windows/" target="_blank" rel="noreferrer">下载链接</a>。</p><p>好吧下载安装程序之后会自动安装好pip。</p><hr><p>这里本来是应该有一张图片的，但是这个插入图片好麻烦，我也不知道为啥一直不能显示。。。</p><p>唉唉，博客不加图片也好，方便导入，也省空间。</p><hr><p>我直接下载了最新版的，可以下载其他版本，但是不要太低了。</p><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to “安装”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkdocs-material</span></span></code></pre></div><p>在 cmd 或 powershell 输入以上内容。</p><p>我报error了</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> error:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Microsoft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Visual</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> C++</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 14.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> greater</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> required.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Microsoft C++ Build Tools&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://visualstudio.microsoft.com/visual-cpp-build-tools/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [end of output]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  note:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> This</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> originates</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subprocess,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> likely</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> problem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ERROR:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> building</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wheel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> regex</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Building</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wheel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MarkupSafe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (pyproject.toml) ... </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Created</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wheel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MarkupSafe:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filename=MarkupSafe-3.0.2-py3-none-any.whl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9325</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256=c4cb3dbadfedcb388ee37c84f33b807769309218ed97e3e46efc94903212e884</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Stored</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> c:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lyha</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ppdata</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ocal</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ip</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ache</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">heels</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">7</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1ea0a7f1bd99970c6602ae982d137132c904433343f48095b</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Building</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wheel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyyaml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (pyproject.toml) ... </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Created</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wheel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyyaml:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filename=PyYAML-6.0.2-cp314-cp314-win_amd64.whl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">45437</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256=42903cee0a60f3f89009d1c5cb7a7351f4c6e357df99414dffa2f70b581cd9c8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Stored</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directory:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> c:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lyha</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ppdata</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ocal</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ip</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ache</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">heels</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">6</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">b</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">f603c475e2c00f8749b9c112c874a87093b6fc1ef4a11ce07</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> built</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MarkupSafe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyyaml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> regex</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ERROR:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ERROR:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> installable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wheels</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> some</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyproject.toml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> based</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> projects</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (regex)</span></span></code></pre></div><p>缺少visual c++。好像是我自己删的，我看电脑上自带的本来有visual c++，我不喜欢就删了。</p><p>我现在下载一下然后看看重新安装。</p><p><a href="https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/" target="_blank" rel="noreferrer">Microsoft C++ 生成工具 - Visual Studio</a></p><p>好像无法下载。。。</p><p>我用手机上的edge也下载不了，但是自带的那个浏览器下载成功了。</p><p>是一个visual studio installer，而且下载进度一直不动。。。要不直接下载一个visual studio吧。</p><p><a href="http://go.microsoft.com/fwlink/?LinkId=691126" target="_blank" rel="noreferrer">Visual C++ Build Tools 2015</a></p><p>服了，一直说下载失败。。。</p><p>重启一下试试。</p><p>然后我又去了第一个，下载成功了。</p><p>但是这个是下载Visual Studio 2022的，我选了10GB的东西下载，好像不用下这么多的。只用选那个2015xxx的就行了，我选了C++桌面开发工具7GB，2015 开发工具4GB，应该只下那个就行的。</p><p>ok，安装完之后，运行刚才的pip xxxx，没有<code>error</code>了。</p><p>主要是我把电脑上那个Visual C++给删了，你们如果没删，应该不用这么麻烦。</p><p>感觉比Ubuntu的操作轻松很多，Ubuntu用这个pip系统报警告，不让用，得弄虚拟环境。配置Docker也非常麻烦，至少我是没弄成功的。</p><h3 id="新建网站" tabindex="-1">新建网站 <a class="header-anchor" href="#新建网站" aria-label="Permalink to “新建网站”">​</a></h3><p>在完成<a href="https://mkdoc-material.llango.com/getting-started/" target="_blank" rel="noreferrer">Material for MkDocs的安装</a>后，可以使用<code>mkdocs</code>相关命令来启动文档。转到要放置项目的目录，然后输入：</p><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mkdocs new .</span></span></code></pre></div><p>以上操作会新建以下结构的文件：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>.</span></span>
<span class="line"><span>├─ docs/</span></span>
<span class="line"><span>│  └─ index.md</span></span>
<span class="line"><span>└─ mkdocs.yml</span></span></code></pre></div><h4 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to “配置”">​</a></h4><h5 id="最小配置" tabindex="-1">最小配置 <a class="header-anchor" href="#最小配置" aria-label="Permalink to “最小配置”">​</a></h5><p>只需要简单的添加以下几行内容到<code>mkdocs.yml</code>即可启用主题。请注意，由于有几种不同的安装方法，因此配置可能会略有不同：</p><div class="language-y"><button title="Copy Code" class="copy"></button><span class="lang">y</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>theme:</span></span>
<span class="line"><span>  name: material</span></span></code></pre></div><p><em>如果是从GitHub克隆的MkDocs from GitHub，那么应当列出所有主题的默认项，因为<code>mkdocs_theme.yml</code>不会作为<code>官方的描述文件</code>被自动载入</em>。</p><h4 id="预览" tabindex="-1">预览 <a class="header-anchor" href="#预览" aria-label="Permalink to “预览”">​</a></h4><p>MkDocs包含一个试试预览的服务，所有可以在撰写文档的过程中进行实时预览。当文档修改保存后，这个服务会自动重建整个网站的文档。使用以下命令启动：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>mkdocs serve</span></span></code></pre></div><p>会输出</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>PS C:\\blog&gt; mkdocs serve</span></span>
<span class="line"><span>INFO    -  Building documentation...</span></span>
<span class="line"><span>INFO    -  Cleaning site directory</span></span>
<span class="line"><span>INFO    -  Documentation built in 1.69 seconds</span></span>
<span class="line"><span>INFO    -  [02:08:25] Watching paths for changes: &#39;docs&#39;, &#39;mkdocs.yml&#39;</span></span>
<span class="line"><span>INFO    -  [02:08:25] Serving on http://127.0.0.1:8000/</span></span>
<span class="line"><span>INFO    -  [02:08:28] Browser connected: http://127.0.0.1:8000/</span></span>
<span class="line"><span>INFO    -  Shutting down...</span></span></code></pre></div><p>按住ctrl然后点击那个链接，会在浏览器打开，可以预览网站。</p><h4 id="生成网站" tabindex="-1">生成网站 <a class="header-anchor" href="#生成网站" aria-label="Permalink to “生成网站”">​</a></h4><p>当文档编辑完成后，可以通过以下命令将所有的Markdown文件生成一个静态网站：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>mkdocs build</span></span></code></pre></div><p>该目录中的内容就是项目文档/网站。因为是完全独立的，所以不需要操作数据库或者服务器。生成的网站可以托管在GitHub Pages、GitLab Pages、CDN网络或者其它的web服务器上。</p><p>这也太不错了吧，配置很简单。</p><h3 id="发布网站" tabindex="-1">发布网站 <a class="header-anchor" href="#发布网站" aria-label="Permalink to “发布网站”">​</a></h3><p>将网站托管在<code>git</code>库中的最大好处是能够在推送新更改时自动部署它。MkDocs使得这一操作更加简单。</p><h4 id="github-pages" tabindex="-1">GitHub Pages <a class="header-anchor" href="#github-pages" aria-label="Permalink to “GitHub Pages”">​</a></h4><p>如果已经在GitHub上托管代码，那么使用<a href="https://pages.github.com/" target="_blank" rel="noreferrer">GitHub Pages</a>来发布网站再方便不过了。</p><h5 id="使用github-actions" tabindex="-1">使用GitHub Actions <a class="header-anchor" href="#使用github-actions" aria-label="Permalink to “使用GitHub Actions”">​</a></h5><p>使用<a href="https://github.com/features/actions" target="_blank" rel="noreferrer">GitHub Actions</a>可以自动部署网站。在库的根目录下新建一个GitHub Actions workflow，比如：<code>.github/workflows/ci.yml</code>，并粘贴入以下内容：</p><p>创建这个路径并加入以下内容</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span># .github/workflows/ci.yml</span></span>
<span class="line"><span>name: ci </span></span>
<span class="line"><span>on:</span></span>
<span class="line"><span>  push:</span></span>
<span class="line"><span>    branches: </span></span>
<span class="line"><span>      - main</span></span>
<span class="line"><span>permissions:</span></span>
<span class="line"><span>  contents: write</span></span>
<span class="line"><span>jobs:</span></span>
<span class="line"><span>  deploy:</span></span>
<span class="line"><span>    runs-on: ubuntu-latest</span></span>
<span class="line"><span>    steps:</span></span>
<span class="line"><span>      - uses: actions/checkout@v4</span></span>
<span class="line"><span>      - name: Configure Git Credentials</span></span>
<span class="line"><span>        run: |</span></span>
<span class="line"><span>          git config user.name github-actions[bot]</span></span>
<span class="line"><span>          git config user.email 41898282+github-actions[bot]@users.noreply.github.com</span></span>
<span class="line"><span>      - uses: actions/setup-python@v4</span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>          python-version: 3.x</span></span>
<span class="line"><span>      - run: echo &quot;cache_id=$(date --utc &#39;+%V&#39;)&quot; &gt;&gt; $GITHUB_ENV </span></span>
<span class="line"><span>      - uses: actions/cache@v3</span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>          key: mkdocs-material-\${{ env.cache_id }}</span></span>
<span class="line"><span>          path: .cache</span></span>
<span class="line"><span>          restore-keys: |</span></span>
<span class="line"><span>            mkdocs-material-</span></span>
<span class="line"><span>      - name: Install dependencies</span></span>
<span class="line"><span>        run: |</span></span>
<span class="line"><span>          pip install mkdocs-material</span></span>
<span class="line"><span>          pip install mkdocs-glightbox</span></span>
<span class="line"><span>          pip install mkdocs-git-revision-date-localized-plugin</span></span>
<span class="line"><span>      - name: Deploy</span></span>
<span class="line"><span>        run: mkdocs gh-deploy --force</span></span></code></pre></div><h5 id="配置自动部署" tabindex="-1">配置自动部署 <a class="header-anchor" href="#配置自动部署" aria-label="Permalink to “配置自动部署”">​</a></h5><h6 id="启用-github-pages" tabindex="-1">启用 GitHub Pages <a class="header-anchor" href="#启用-github-pages" aria-label="Permalink to “启用 GitHub Pages”">​</a></h6><ul><li>进入仓库设置 -&gt; Pages - Source 选择 <code>gh-pages</code> 分支 - 保存设置</li></ul><h6 id="配置部署分支" tabindex="-1">配置部署分支 <a class="header-anchor" href="#配置部署分支" aria-label="Permalink to “配置部署分支”">​</a></h6><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># mkdocs.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">remote_branch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gh-pages</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # GitHub Pages 分支</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">remote_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">origin</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # 远程仓库名</span></span></code></pre></div><h6 id="手动部署命令" tabindex="-1">手动部署命令 <a class="header-anchor" href="#手动部署命令" aria-label="Permalink to “手动部署命令”">​</a></h6><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span># 部署到 GitHub Pages</span></span>
<span class="line"><span>mkdocs gh-deploy</span></span>
<span class="line"><span> </span></span>
<span class="line"><span># 强制部署</span></span>
<span class="line"><span>mkdocs gh-deploy --force</span></span>
<span class="line"><span> </span></span>
<span class="line"><span># 指定分支</span></span>
<span class="line"><span>mkdocs gh-deploy --remote-branch custom-branch</span></span></code></pre></div><p>全部的内容基本都是看<a href="https://mkdoc-material.llango.com/getting-started/" target="_blank" rel="noreferrer">这个</a>和<a href="https://wncfht.github.io/notes/Tools/Blog/Mkdocs_Material/" target="_blank" rel="noreferrer">这个</a>，确实挺不错的。</p><p>感谢大佬们。</p><p>然后现在我们的博客就可以在 username.github.io 显示了(如果你的仓库名是username.github.io)。</p><p>我的是 <a href="https://fwdzh.github.io" target="_blank" rel="noreferrer">fwdzh.github.io</a></p><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>我是十个月之后的我，现在我发现了一个同样很好用的构建页面的工具 <code>cloudflare</code>，github pages 经常很卡，可以同时部署一个 <code>cloudflare pages</code>，这样大概率两个至少有一个能进去。。。</p><p>只需要在 cloudflare 建一个 pages 项目，与 github 项目关联，通过 gh-pages 分支部署，这样每次 push 会自动构建出两个页面。</p><p>如果自己买一个域名，可以设置自定义域名，不过好像意义不大。不过也不一定，我就是在自己买了域名之后的一段时间，写了很多博客。那会经常晚上睡觉前就是在写博客，然后刷新自己看一下。</p></div>`,73)])])}const F=i(e,[["render",l]]);export{o as __pageData,F as default};
